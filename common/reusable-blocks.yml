# blocks
docker_creds: &docker_creds
  username: ((docker_hub_username))
  password: ((docker_hub_password))

github_creds: &github_creds
  username: ((github_username))
  password: ((github_password))

# resource types
webhook-resource-type: &webhook-resource-type
  name: webhook-resource-type
  type: registry-image
  source:
    <<: *docker_creds
    repository: flavorjones/webhook-notification-resource
    tag: v1.1.0


my-registry-image-resource-type: &my-registry-image-resource-type
  name: my-registry-image
  type: registry-image
  source:
    <<: *docker_creds
    repository: concourse/registry-image-resource
    tag: 1.3.1

# resources
discord: &discord
  name: discord
  type: webhook-resource-type
  icon: bell
  source:
      adapter: DiscordAdapter
      url: ((discord_webhook_url))

concourse-pipelines-repo: &concourse-pipelines-repo
  name: concourse-pipelines-repo
  type: git
  icon: github
  source:
    <<: *github_creds
    uri: https://github.com/FlipEnergy/concourse-pipelines.git
    branch: main

# task image resources
alpine-image-resource: &alpine-image-resource
  type: registry-image
  source:
    <<: *docker_creds
    repository: alpine
    tag: 3.14

bitwarden-cli-image-resource: &bitwarden-cli-image-resource
  type: registry-image
  source:
    <<: *docker_creds
    repository: flipenergy/bitwarden-cli
    tag: latest

helmsman-image-resource: &helmsman-image-resource
  type: registry-image
  source:
    <<: *docker_creds
    repository: praqma/helmsman
    tag: latest

helm-image-resource: &helm-image-resource
  type: registry-image
  source:
    <<: *docker_creds
    repository: alpine/helm
    tag: latest

oci-build-image-resource: &oci-build-image-resource
  type: registry-image
  source:
    <<: *docker_creds
    repository: vito/oci-build-task
    tag: 0.8.0

yq-image-resource: &yq-image-resource
  type: registry-image
  source:
    <<: *docker_creds
    repository: flipenergy/yq-ubuntu
    tag: latest

# notifications
notify-success: &notify-success
  put: discord
  params:
    message: "**SUCCESS** :rocket: **[${BUILD_PIPELINE_NAME}/${BUILD_JOB_NAME}/${BUILD_NAME}](${BUILD_URL})**"


notify-failure: &notify-failure
  put: discord
  params:
    message: "**FAILED** :boom: **[${BUILD_PIPELINE_NAME}/${BUILD_JOB_NAME}/${BUILD_NAME}](${BUILD_URL})**"

# end reusable blocks
